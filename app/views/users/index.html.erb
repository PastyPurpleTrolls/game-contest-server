<% setTitle("User") %>
<div class="row">
    <div class="container center display-container col-md-offset-3 col-md-6">
        <div class="row">
            <h1 class="headings col-xs-12 left">Users</h1>
            <div class="col-xs-12">
                <% if @users.count > 0 %>
                    <% if @users.count > @per_page %>
                        <p class="left"><%= "#{@users.count} found (displaying #{getRangeFromPage(params[:page], @users.length)})" %></p>
                    <% else %>
                        <p class="left"><%= "#{@users.count} found" %></p>
                    <% end %>
                <% else %>
                    <p>No users found</p>
                <% end %>
            </div>
        </div>
        <%= form_tag users_path, method: :get, id: :users_search do %>
            <%= hidden_field_tag :direction, params[:direction] %>
            <%= hidden_field_tag :sort, params[:sort] %>
            <p class="search-container">
                <%= text_field_tag :search, params[:search] %>
                <%= submit_tag "Search", username: nil %>
            </p>
        <% end %>
        <div id="pagination">
            <%= render partial: 'user', collection: @users %>
            <%= will_paginate @users, id: 'user_pagination' %>
        </div>
    </div>
</div>